CREATE TABLE [dbo].[PrStatus] (
    [statusId] [int] NOT NULL IDENTITY,
    [statusName] [nvarchar](max),
    CONSTRAINT [PK_dbo.PrStatus] PRIMARY KEY ([statusId])
)
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Projects')
AND col_name(parent_object_id, parent_column_id) = 'Manager';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Projects] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Projects] ALTER COLUMN [Manager] [int] NOT NULL
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Projects')
AND col_name(parent_object_id, parent_column_id) = 'Status';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Projects] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[Projects] ALTER COLUMN [Status] [int] NOT NULL
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Projects')
AND col_name(parent_object_id, parent_column_id) = 'PrType';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Projects] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[Projects] ALTER COLUMN [PrType] [int] NOT NULL
CREATE INDEX [IX_Manager] ON [dbo].[Projects]([Manager])
CREATE INDEX [IX_Status] ON [dbo].[Projects]([Status])
CREATE INDEX [IX_PrType] ON [dbo].[Projects]([PrType])
ALTER TABLE [dbo].[Projects] ADD CONSTRAINT [FK_dbo.Projects_dbo.People_Manager] FOREIGN KEY ([Manager]) REFERENCES [dbo].[People] ([PersonId]) ON DELETE CASCADE
ALTER TABLE [dbo].[Projects] ADD CONSTRAINT [FK_dbo.Projects_dbo.PrStatus_Status] FOREIGN KEY ([Status]) REFERENCES [dbo].[PrStatus] ([statusId]) ON DELETE CASCADE
ALTER TABLE [dbo].[Projects] ADD CONSTRAINT [FK_dbo.Projects_dbo.ProjectTypes_PrType] FOREIGN KEY ([PrType]) REFERENCES [dbo].[ProjectTypes] ([Id]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202211302223425_updates2', N'Project_Management_System.ProjectContext',  0x1F8B0800000000000400DD5BDD6EDB3614BE1FB0771074B50D6994A4C0B005768BCC698660CD0FE2A4D85DC048B4A38DA23492CA6C0C7BB25DEC91F60A232551E68F244BB2ECB8458122A1C88FE7FF903C27FFFDF3EFE8FD2242CE0B24348CF1D83D3E3C721D88FD3808F17CECA66CF6E607F7FDBBAFBF1A7D08A285F349CE7B2BE6F195988EDD67C69253CFA3FE338C003D8C429FC4349EB1433F8E3C10C4DEC9D1D18FDEF1B1073984CBB11C67749762164630FB85FF3A89B10F13960274150710D1629C7F9966A8CE3588204D800FC7EE2D897F833E7BBC0218CC6104317B9C2E298391EB9CA1107082A610CD5C07601C33C038B9A70F144E1989F17C9AF00180EE9709E4F366005158B071BA9ADE96A3A313C191B75A28A1FC94B238EA0878FCB61091672EEF2568B7142117E2072E6CB6145C6782E432E47A14C0E656A71344C4B406291FE66B0F9C6286B39AE1E4330E4A33E1D624FE1D389314B194C03186292300F1C5E9130AFD5FE0F23EFE1DE2314E115229E634F36FDA001FE23B2690B0E51D9C697C5C06AEE3E9AB3D7379B9D85A99F37B89D9DB13D7B9E6848027044BE35064336531813F430C096030B8058C41C2757B19C04CBC160DC68EE27FB91BB746EE5F2E97DDE223C473F63C76F98FAE73112E6020470A0A1E70C8DD912F622485EB3699A604EF629FB339542477FC7D85E49A016E01A57FC624D8BE44B8F652BAF56D727B2A7C62E0DD46DECA819BDD5A6EDFCBAFF32F7BE2D8390DBD3C7BB5F48B72ED5C1D641D576BCC3425494C77108734AFEB472BC720EC9C2B44C2889FEF4321EA8E481F703008CE2D580A77D85005398880D8BA1AEE2188CEA238DD9866A292DB12E31ABC84F3CCBF2A636569CF771065B3E87398E48737198B1E8D9917248EEE62A484316DC2E3344E892FC88C9B66DD033287AC03B9445A7313A5E5A40A228B6FF5F4C9095D4913FAC8834F0369AB493669F25B2D69E5842AD23A2426299D7E99295FBD1FA98966B4F4C94CAB95BB4A4CF98E5B484F5D8F2479F8D8E05822A6ED87FEFB68FE333F8CD469FB8CD2D80F33AA75751B815BA7976763A75514CF5950421967842B354CB81A393563F73B4B16EBB0651453B18BBBB00E7DEC9A967083CF21820C3A677E7EA99F00EA83C0CE7B5C58813EC28D0712A13D80263C4473730C31B32D2DC47E9800D486016371A7CBB120B1DCCCFC720E138885A5B551511B2ACAE46D1351EE65C86F9DB8469E62782DED5126A0B5E662E5EA61ACD0CCF01AAC4C8E7B6B8206F56DF45E9726FB599FA195360448A1BEAADD9567AF7506621FC406B13BEBF866C3E6A9795F4DCF64A08DE607323A5325AD626E7151DA81D1E52999AF617C0524BAE18961B8A87A097AA0B03875D122D59B362460A790695984FBD1EA0860244ECB080D809CA24A0469D86B2092C2FD613548B5A757A094F6DE404C95FE5407B718332FA9CADCC6DBAC69216D8F45255BAA682D7B6B7B1052D1A4A64D8FD6B9EF229952350D42A9CCCCED72736F5198D95801526D6D3041ACAEE0F582A84E15ED92455F4158E9411384EA2EAD4521EF0A65605AD5F2BCBC98278B7E5E4DD56F740592845F5B942A6031E24CF312E0E4CDB47B512CCA313C9F56D4C64A6ACB9DF8258C3B8AF1956FCD29BD0809150F93E009888BD32488AC694618AE094C72333DD2DA6A93914ACE976A5B5FA6AB485A05C805672FBF408BEBA61506EC8559311620406A2B699318A5115E77F9A847CA3D4445C947DA2394E52F15A41C6C8F9395B7548C6CA0FDFA55754B934939DA81A322806A0CD59C6CD7E9A84CB7B6A26A327186E81916631D6D2C03B54E84BABDB7F30619C706728782C11EFE50B7B256D8AB029426E8BA925613D6E62E519E4B5490DA4B790357B272A4F12407776DD04A6DC80092C3EDB1CAEA908A540E7671FAA23AA4FB7C31D819273F88566055DF30EAF1D422900AA78E77A08E54105673EB79B5E0A11CE2860A1FD5A7D456F1A36E699D88574F27AA90EB1F54D621D941441DDF23A52907CE41A37E669DBD237FF5EA3A919B6ADB56BCDFAA92AC43BC39A5DCBD3CCC1B87F65171805EDFCF679DA8F329AE28F6BC8481384D17DA14130EA77FA0090AB3902A2770BD873348595ED7714F8E8E4F8C5EC0FDE9CBF3280D50C505C46ECEEB519A1AAE1D2E14F25D5B88EAD845A056A6F00B20FE3320DF4460F1AD8AD4A3CB6D232CA5938D4600A18CF30D9BD936634E6B9DD908AAB229AD0362E7C6B33E363B60A7D77E5BADD1C095116B3DCF5EE2002EC6EE5FD99A53E7F2D722AB9103E786F05877EA1C397F6FDAF635A07DB6E54276706CC084D50F16F09FD900FD60BD718C7EB07EA1C3EA06DB483B76C7572FAAB47EAFB63ACE5775D071F7FEA11E0166B87E9DAD8417BB45678B01DA3ECAEEA2E7659FC2F2D65A598A62D86E1B4BAC17FD7E75E37E15DABA07E6ED76A27C594D27C65F27ECAC1DE4550DA7FE2D65BB6D245F5EDB88D644BECB9E8ED7B59FA6479D6DB5837C1EED1F7679B2E6E94D7F6BA86FEEC81F63F819F929E62ACEB3EA2D8C13645B494DE34753DF47257A4D01BB025FFA6A434F48F50E2D3B46346F6A6E1869E0A4BA82BEE396124DCF6A9DB7459B40557FC13E7689E8E6A03FBEBF3E9BC3F680A836693D566F9FD90E5D1EF643308F7ACA9F7FF3804BC3F90A42FC313886BE16EFCA39977816CBB06B5024A798AF2E90017EC10767848533E033FED98794666DF19F004AC57340F404834B7C93B224659C65183D21ADCD5E84EFA6FDB356169DE6D14D92FD39CE102C703243F14671837F4A431494745F54DCA86B20445E282E5F42974C5CC2E6CB12E93AC62D810AF195E9EC1E4609E260F4064FC10BEC43DB03851FE11CF84BF99E5F0FB25E11BAD847E721981310D10263B59EFFCA6D388816EFFE07235ADC0805410000 , N'6.4.4')

